<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthdays Reminder</title>
</head>
<body>
  <h1>üéÇ –°–ø–∏—Å–æ–∫ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏–π</h1>

  <div id="list"></div>

  <hr>

  <h3>–î–æ–±–∞–≤–∏—Ç—å –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</h3>
  <input id="name" placeholder="–ò–º—è">
  <input id="date" type="date">
  <button id="addBtn">–î–æ–±–∞–≤–∏—Ç—å</button>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <script>
    // üî• –¢–≤–æ–π Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDmMKjRwOagaEdWElMy98r8shtibk9LXNM",
      authDomain: "birthdays-reminder-4a1c1.firebaseapp.com",
      projectId: "birthdays-reminder-4a1c1",
      storageBucket: "birthdays-reminder-4a1c1.firebasestorage.app",
      messagingSenderId: "23543078001",
      appId: "1:23543078001:web:32ffb8edaa9b729a864fd0",
      measurementId: "G-B9GC38FX9P",
      databaseURL: "https://birthdays-reminder-4a1c1-default-rtdb.firebaseio.com/"
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è
    document.getElementById("addBtn").addEventListener("click", () => {
      const name = document.getElementById("name").value;
      const date = document.getElementById("date").value;
      if (!name || !date) return alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ –¥–∞—Ç—É!");
      db.ref("birthdays").push({ name, date });
      document.getElementById("name").value = "";
      document.getElementById("date").value = "";
    });

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
    const listDiv = document.getElementById("list");
    db.ref("birthdays").on("value", (snapshot) => {
      const data = snapshot.val();
      listDiv.innerHTML = "";
      if (data) {
        Object.entries(data).forEach(([id, item]) => {
          const div = document.createElement("div");
          div.textContent = `${item.name} ‚Äî ${item.date}`;
          listDiv.appendChild(div);
        });
      } else {
        listDiv.textContent = "–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π.";
      }
    });
  </script>
</body>
</html>
